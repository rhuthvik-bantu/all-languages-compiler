<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Superb Coding Playground | RHUTHVIK</title>

<!-- CodeMirror CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/theme/dracula.min.css">

<!-- Font -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:'Roboto',sans-serif;
  background:#1e1e2f;
  color:#f5f5f5;
}
header{
  text-align:center;
  padding:30px 20px;
  background:#2c2c44;
  box-shadow:0 4px 10px rgba(0,0,0,0.4);
}
header h1{font-size:2.5rem;color:#ff6b6b;margin-bottom:10px;}
header h2{font-size:1.2rem;color:#cccccc;}

.container{
  max-width:1400px;
  margin:50px auto;
  padding:0 20px;
}

.tabs{
  display:flex;
  gap:15px;
  margin-bottom:20px;
  flex-wrap:wrap;
}
.tab{
  padding:12px 25px;
  background:#2c2c44;
  cursor:pointer;
  border-radius:8px;
  transition:0.3s;
}
.tab.active{background:#ff6b6b;color:#fff;font-weight:700;}
.tab:hover{background:#3c3c5c;}

.editor-container{
  margin-bottom:20px;
}
.CodeMirror{height:300px;border-radius:10px;font-size:1rem;}

button.run-btn{
  padding:12px 25px;
  background:#ff6b6b;
  border:none;
  color:#fff;
  border-radius:50px;
  cursor:pointer;
  font-weight:700;
  transition:0.3s;
}
button.run-btn:hover{transform:scale(1.05);}

.output-box{
  margin-top:20px;
  background:#2c2c44;
  padding:20px;
  border-radius:10px;
  min-height:100px;
  white-space:pre-wrap;
  font-family:monospace;
  color:#ffffff;
  overflow-x:auto;
}
footer{
  text-align:center;
  padding:15px;
  background:#2c2c44;
  color:#aaaaaa;
  margin-top:50px;
  border-top:1px solid #3c3c5c;
}
</style>
</head>
<body>

<header>
<h1>Superb Coding Playground</h1>
<h2>Run Java, C, C++, Python, DSA, HTML/CSS/JS | Errors & Output in Real-Time</h2>
</header>

<div class="container">
<div class="tabs">
  <div class="tab active" data-lang="python">Python</div>
  <div class="tab" data-lang="java">Java</div>
  <div class="tab" data-lang="c">C</div>
  <div class="tab" data-lang="cpp">C++</div>
  <div class="tab" data-lang="javascript">JavaScript</div>
  <div class="tab" data-lang="html">HTML/CSS/JS</div>
</div>

<div class="editor-container">
<textarea id="editor"></textarea>
</div>

<button class="run-btn">Run Code</button>

<div class="output-box" id="output">Output will appear here...</div>
</div>

<footer>Â© 2026 RHUTHVIK BANTU. All rights reserved.</footer>

<!-- CodeMirror JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/python/python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/clike/clike.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/javascript/javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/htmlmixed/htmlmixed.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/css/css.min.js"></script>

<script>
// Initialize CodeMirror
let currentLang = 'python';
const editor = CodeMirror.fromTextArea(document.getElementById('editor'), {
  lineNumbers:true,
  theme:'dracula',
  mode:'python',
  tabSize:2
});

// Tab switching
const tabs = document.querySelectorAll('.tab');
tabs.forEach(tab=>{
  tab.addEventListener('click',()=>{
    tabs.forEach(t=>t.classList.remove('active'));
    tab.classList.add('active');
    currentLang = tab.dataset.lang;
    let mode = 'python';
    if(currentLang==='java') mode='text/x-java';
    if(currentLang==='c') mode='text/x-csrc';
    if(currentLang==='cpp') mode='text/x-c++src';
    if(currentLang==='javascript') mode='javascript';
    if(currentLang==='html') mode='htmlmixed';
    editor.setOption('mode',mode);
    editor.setValue(''); // clear previous code
    document.getElementById('output').textContent='Output will appear here...';
  });
});

// --- Run Code using Piston API ---
document.querySelector('.run-btn').addEventListener('click',async ()=>{
  const code = editor.getValue();
  const outputBox = document.getElementById('output');
  outputBox.textContent='Running...';
  
  let language = currentLang;
  if(language==='cpp') language='c++';
  if(language==='html') language='html';
  
  try{
    const response = await fetch('https://emkc.org/api/v2/piston/execute', {
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({language:language,source:code})
    });
    const data = await response.json();
    outputBox.textContent = data.output || 'No output';
  }catch(err){
    outputBox.textContent = 'Error: '+err;
  }
});
</script>

</body>
</html>
